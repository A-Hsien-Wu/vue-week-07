{"version":3,"file":"js/66.115b278c.js","mappings":"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","sources":["webpack://cli_01/./src/views/SignIn.vue","webpack://cli_01/./src/views/SignIn.vue?093c"],"sourcesContent":["<script>\n\nexport default {\n   data() {\n      return {\n         loginUser: { username: '', password: '' },\n         token: '',\n         tokenName: 'hexApiToken',\n         warning: '',\n         showPassword: false,\n         btnText: 'Login',\n      };\n   },\n   methods: {\n      clickLogin() {\n         this.btnText = 'connecting...';\n         if (this.loginUser.username === '' || this.loginUser.password === '') {\n            this.warning = 'Neither of the text fields can be blank!';\n            this.btnText = 'Login';\n         } else {\n            const url = `${process.env.VUE_APP_API}/admin/signin`;\n            this.$http.post(url, this.loginUser)\n               .then(response => {\n                  this.btnText = 'Login';\n                  console.log('signin:', response);\n                  const { token, expired } = response.data;\n\n                  document.cookie = `${this.tokenName}=${token}; expires=${new Date(expired)}; path=/;`;\n                  // 把 token 存到網頁 cookie\n                  this.token = token;\n                  this.$http.defaults.headers.common.Authorization = token; // 把 token 存在 headers\n                  this.$router.push('/admin/products');\n               }).catch(error => {\n                  const errorMessage = error?.response?.data?.error;\n                  if (errorMessage.code === 'auth/invalid-email') {\n                     this.warning = '登入失敗! Email 格式錯誤';\n                  } else if (errorMessage.code === 'auth/user-not-found') {\n                     this.warning = '登入失敗! 查無此帳號';\n                  } else if (errorMessage.code === 'auth/wrong-password') {\n                     this.warning = '登入失敗! 密碼不正確，請再重新輸入一次';\n                  } else if (errorMessage.code === 'auth/too-many-requests') {\n                     this.warning = '登入失敗! 嘗試登入失敗次數過多，目前無法再登入，請稍後再回來';\n                  }\n                  this.btnText = 'Login';\n               });\n         }\n      },\n      focusInput() {\n         this.warning = '';\n      },\n   },\n   created() {\n      // this.token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexApiToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n   }\n};\n</script>\n\n<template>\n   <router-view></router-view>\n   <div class=\"container mx-auto h-screen flex flex-col fx-center\">\n      <div class=\"w-72 h-96 bg-white opacity-100 rounded-lg py-10 px-5 flex-col\">\n         <h5\n            class=\"text-xl text-white -mx-8 p-3 text-center drop-shadow-lg transition ease-in-out bg-blue-500 hover:bg-sky-500 duration-300\"\n         >Hello Stranger</h5>\n         <form action autocomplete=\"off\" class=\"mt-10 text-gray-500\" @submit.prevent=\"clickLogin\">\n            <!-- submit 放在 <form> 裡面 -->\n            <label for=\"emailInput\" class=\"floating-label mb-8\">\n               <input\n                  type=\"email\"\n                  id=\"emailInput\"\n                  placeholder=\"abc@email.com\"\n                  name=\"input-name\"\n                  class=\"floating-input peer\"\n                  @focus=\"focusInput\"\n                  v-model=\"loginUser.username\"\n                  required\n               />\n               <span class=\"floating-assist\"></span>\n               <span class=\"mt-2 warning-sentence\">Please provide a valid email address.</span>\n            </label>\n\n            <label for=\"passwordInput\" class=\"floating-label mb-12\">\n               <div class=\"absolute right-0 bottom-2 cursor-pointer\" @click.prevent=\"showPassword=!showPassword\">\n                  <span\n                     class=\"block w-4 h-4 bg-cover\"\n                     :style=\"{backgroundImage:'url(\\''+require('@/assets/images/visibility_black_24dp.svg')+'\\')'}\"\n                     v-if=\"!showPassword\"></span>\n                  <span\n                     class=\"block w-4 h-4 bg-cover\"\n                     :style=\"{backgroundImage:'url(\\''+require('@/assets/images/visibility_off_black_24dp.svg')+'\\')'}\"\n                     v-else></span>\n               </div>\n               <input\n                  :type=\"showPassword ? 'text' : 'password'\"\n                  id=\"passwordInput\"\n                  placeholder=\"Password\"\n                  class=\"floating-input peer\"\n                  @focus=\"focusInput\"\n                  v-model=\"loginUser.password\"\n                  required\n               />\n               <span class=\"floating-assist after:content-['Password']\"></span>\n            </label>\n\n            <button\n               type=\"submit\"\n               class=\"btn-rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 ring-pink-500/50 mt-auto w-full hover:drop-shadow-lg transition-all\"\n            >{{ btnText }}</button>\n         </form>\n         <p class=\"mt-2 text-sm text-red-500 text-center\">{{ warning }}</p>\n      </div>\n   </div>\n</template>\n","import { render } from \"./SignIn.vue?vue&type=template&id=0668f0b2\"\nimport script from \"./SignIn.vue?vue&type=script&lang=js\"\nexport * from \"./SignIn.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\workspace\\\\website\\\\vue\\\\work_week_06\\\\cli_01\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createVNode","_component_router_view","_hoisted_3","action","autocomplete","onSubmit","$options","id","placeholder","name","onFocus","$data","username","$event","required","_hoisted_5","_hoisted_6","onClick","_createElementBlock","style","backgroundImage","require","password","_hoisted_9","_toDisplayString","data","loginUser","token","tokenName","warning","showPassword","btnText","methods","clickLogin","this","url","$http","post","then","response","console","log","expired","document","cookie","Date","defaults","headers","common","Authorization","$router","push","catch","error","errorMessage","code","focusInput","created","__exports__","render"],"sourceRoot":""}